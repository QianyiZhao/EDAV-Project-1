<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            margin: auto;
            position: relative;
            width: 960px;
        }

        button {
            position: absolute;
            right: 10px;
            top: 10px;
        }
    </style>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
<script>

    var n = 5, // number of layers
            m = 4, // number of samples per layer
            stack = d3.layout.stack().offset("zero");


    var width = 960,
            height = 500;

    var data = [];
    d3.csv("data.exp.stat.csv", function (d) {
        var layers0 = stack(d.map(function (d) {
            return d3.range(4).map(function (i) {
                return {x: i, y: parseInt(d[i])};
            });
        }));

        var x = d3.scale.linear()
                .domain([0, m - 1])
                .range([0, width]);

        var y = d3.scale.linear()
                .domain([0, d3.max(layers0, function (layer) {
                    return d3.max(layer, function (d) {
                        return d.y0 + d.y;
                    });
                })])
                .range([height, 0]);

        var color = d3.scale.category20b(d3.range(5));

        var area = d3.svg.area()
                .x(function (d) {
                    return x(d.x);
                })
                .y0(function (d) {
                    return y(d.y0);
                })
                .y1(function (d) {
                    return y(d.y0 + d.y);
                });
        var xAxis = d3.svg
                .axis()
                .scale(x)
                .orient("bottom")
                .ticks(4);

        var yAxis = d3.svg
                .axis()
                .scale(y).orient("right")
                .ticks(5);


        var svg = d3.select("body").append("svg")
                .attr("width", width)
                .attr("height", height);

        svg.selectAll("path")
                .data(layers0)
                .enter().append("path")
                .attr("d", area)
                .style("fill", function (d, i) {
                    return color(i);
                });

        svg.append("g")
                .call(xAxis)
                .append("g")
                .call(yAxis);

    });

</script>

</body>
</html>